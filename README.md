# Biological Basis of Mental Health Disorders

A comprehensive research database and automated book generation system for the biological and neurological basis of DSM-5 mental health disorders, powered by OpenAlex research papers and Google Gemini AI.

## 🧠 Project Overview

This project creates a comprehensive book titled "Biological Basis of Mental Health Disorders" by:

1. **Semantic Search**: Using a RAG (Retrieval Augmented Generation) system to find the 2000 most relevant research papers for each of the 153 DSM-5 disorders
2. **AI Generation**: Using Google Gemini 2.5 Pro to generate detailed chapters on the biological/neurological basis of each disorder
3. **Academic Citations**: Every chapter includes proper APA citations from the research papers used

## 📊 Repository Contents

### Core Scripts
- **`openalex_rag.py`** - RAG implementation using OpenAlex API and Faiss semantic search
- **`search_all_disorders.py`** - Automated script to search for relevant papers for all 153 DSM-5 disorders
- **`Biological_Basis_of_Mental_Health_Disorders_book.py`** - Main book generation script using Gemini 2.5 Pro
- **`test_query.py`** - Testing utilities for the RAG system

### Data Files
- **`disorder_papers/`** - JSON files containing 2000 most relevant papers for each disorder
- **`mental-disorder-and-criteria.txt`** - DSM-5-TR diagnostic criteria for all disorders
- **`dsm5tr_*.txt`** - Additional DSM-5-TR reference files

### Generated Content
- **`chapters/`** - Individual markdown chapters (generated by the book script)
- **`Biological_Basis_of_Mental_Health_Disorders.md`** - Complete compiled book

## 🚀 Quick Start

### Prerequisites
```bash
pip install google-generativeai python-dotenv sentence-transformers faiss-cpu requests
```

### Setup
1. **Clone the repository**:
   ```bash
   git clone git@github.com:danbroz/Biological-Basis-of-Mental-Disorders.git
   cd Biological-Basis-of-Mental-Disorders
   ```

2. **Set up API keys**:
   ```bash
   # Create .env file
   echo "GEMINI_API_KEY=your_gemini_api_key_here" > .env
   ```

3. **Run the disorder paper search** (if not already done):
   ```bash
   python3 search_all_disorders.py
   ```

4. **Generate the book**:
   ```bash
   python3 Biological_Basis_of_Mental_Health_Disorders_book.py
   ```

## 🔬 Technical Architecture

### RAG System
- **Vector Database**: Faiss index with 212M+ research papers
- **Embedding Model**: LaBSE (Language-agnostic BERT Sentence Embedding)
- **Search Method**: Semantic similarity search over paper abstracts
- **Data Source**: OpenAlex API for comprehensive academic paper metadata

### AI Generation
- **Model**: Google Gemini 2.5 Pro (Free Tier)
- **Context Window**: Full context stuffing (all 2000 papers per disorder)
- **Output Format**: Markdown with APA citations
- **Chapter Length**: 4000-6000 words per disorder

### Data Processing Pipeline
1. **Parse DSM-5 criteria** from text files
2. **Semantic search** for relevant papers using disorder name + full criteria
3. **Fetch paper details** via OpenAlex API
4. **Generate chapters** using Gemini with full paper context
5. **Compile book** from individual chapters

## 📚 Generated Book Structure

Each chapter covers:
- **Introduction**: Overview of the disorder from a biological perspective
- **Neurobiological Systems**: Implicated neurotransmitter systems and brain regions
- **Genetic and Molecular Basis**: Heritability, candidate genes, molecular pathways
- **Neuroimaging Findings**: Structural and functional brain imaging results
- **Developmental Neurobiology**: Critical periods and developmental trajectories
- **Neuroplasticity and Treatment**: Biological mechanisms of treatment response
- **Biological Subtypes**: Heterogeneity and personalized medicine approaches
- **References**: Complete APA bibliography

## 📈 Current Status

- **Disorders Processed**: 75/153 (49% complete)
- **Papers Retrieved**: ~150,000 research papers
- **Search Status**: Background process continuing
- **Book Generation**: Ready to run when search completes

## 💰 Cost Estimation

### Gemini API Costs (Free Tier)
- **Model**: Gemini 2.5 Pro (Free)
- **Input**: ~1.5M tokens per chapter
- **Output**: ~6,000 words per chapter
- **Total Cost**: $0 (Free tier sufficient for all 153 chapters)

### Alternative Paid Options
- **Gemini 2.5 Pro Paid**: ~$0.50 per chapter
- **Gemini 2.0 Flash**: ~$0.10 per chapter
- **Total for 153 chapters**: $7.50 - $76.50

## 🔒 Security & Privacy

- **API Keys**: Stored in `.env` file (not committed to repository)
- **Sensitive Data**: Protected by `.gitignore`
- **Public Repository**: Safe to share (no sensitive information exposed)

## 📁 File Structure

```
Biological-Basis-of-Mental-Disorders/
├── disorder_papers/           # JSON files with 2000 papers per disorder
│   ├── major_depressive_disorder.json
│   ├── anxiety_disorder.json
│   └── ... (153 total)
├── chapters/                  # Generated markdown chapters
├── openalex_rag.py           # RAG implementation
├── search_all_disorders.py   # Paper search automation
├── Biological_Basis_of_Mental_Health_Disorders_book.py  # Book generator
├── mental-disorder-and-criteria.txt  # DSM-5 criteria
├── .env                      # API keys (not committed)
├── .gitignore               # Security configuration
└── README.md                # This file
```

## 🛠️ Development

### Adding New Disorders
1. Add disorder criteria to `mental-disorder-and-criteria.txt`
2. Run `search_all_disorders.py` to fetch papers
3. Run book generation script to create chapter

### Customizing Output
- Modify prompts in `Biological_Basis_of_Mental_Health_Disorders_book.py`
- Adjust chapter structure and length
- Change citation format or style

### Testing
```bash
# Test RAG system
python3 test_query.py

# Test individual disorder search
python3 -c "from search_all_disorders import *; search_single_disorder('Major Depressive Disorder')"
```

## 📖 Citation

If you use this work in your research, please cite:

```
Broz, D. (2025). Biological Basis of Mental Health Disorders: An AI-Generated Comprehensive Review. 
GitHub Repository. https://github.com/danbroz/Biological-Basis-of-Mental-Disorders
```

## 🤝 Contributing

Contributions are welcome! Please:
1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Submit a pull request

## 📄 License

This project is open source. Please ensure compliance with:
- OpenAlex API terms of service
- Google Gemini API terms of service
- DSM-5-TR copyright (American Psychiatric Association)

## 🔗 Related Resources

- [OpenAlex API Documentation](https://docs.openalex.org/)
- [Google Gemini API Documentation](https://ai.google.dev/gemini-api/docs)
- [DSM-5-TR Official Site](https://www.psychiatry.org/psychiatrists/practice/dsm)
- [Faiss Documentation](https://faiss.ai/)

## 📞 Contact

- **Repository**: https://github.com/danbroz/Biological-Basis-of-Mental-Disorders
- **Issues**: Use GitHub Issues for bug reports and feature requests

---

*This project represents a novel approach to synthesizing mental health research using AI and semantic search technologies. The generated content should be used for educational and research purposes and not as a substitute for professional medical advice.*
